---行车路单明细
SELECT * FROM MCROUTEINFOGS R WHERE R.ROUTENAME LIKE '%57%';
SELECT F.BUSSELFID,
       F.LEAVETIME,
       F.ARRIVETIME,
       F.REALLEAVETIME,
       F.REALARRIVETTIME,
       CEIL((F.REALLEAVETIME - F.LEAVETIME) * 24 * 60),
       F.DISPATCHER,
       F.DISPATCHNAME
  FROM FDISDISPLANLD F
 WHERE F.RUNDATE >= DATE '2016-9-1'
   AND F.ROUTEID = '320570';
------
SELECT F.SHIFTNUM,
       F.BUSSELFID,
       S.STATIONNAME,
       S1.STATIONNAME,
       F.REALLEAVETIME,
       CEIL((F.REALLEAVETIME - F.LEAVETIME) * 24 * 60),
       F.REALARRIVETTIME,
       CEIL((F.REALARRIVETTIME - F.ARRIVETIME) * 24 * 60),
       E.EMPNAME,
       CASE
         WHEN F.RECTYPE = 1 THEN
          F.MILENUM
         ELSE
          NULL
       END YYMILE,
       CASE
         WHEN F.RECTYPE = 2 THEN
          F.MILENUM
         ELSE
          NULL
       END FYYMILE,
       F.MEMOS
  FROM FDISDISPLANLD    F,
       MCSTATIONINFOGS  S,
       MCSTATIONINFOGS  S1,
       MCEMPLOYEEINFOGS E
 WHERE F.STARTSTATIONID = S.STATIONID(+)
   AND F.ENDSTATIONID = S1.STATIONID(+)
   AND F.DISPATCHER = E.EMPID(+)
   AND F.ISACTIVE = 1
   AND F.ISCONFIRM = 1
   AND F.RUNDATE = DATE '&dates'
   AND F.DRIVERID = NVL('&driverid', F.DRIVERID)
   AND F.BUSID = NVL('&busid', F.BUSID)
   AND F.SHIFTNUM = NVL('&shiftnum', F.SHIFTNUM)
   AND F.ROUTEID IN (&ROUTEID);
